(this["webpackJsonpcanvas-api-illustrations"]=this["webpackJsonpcanvas-api-illustrations"]||[]).push([[17,25],{30:function(t,i,e){"use strict";e.r(i),e.d(i,"BrickBreakerController",(function(){return h}));var a=e(91),n=e(92),s=e(93),l=function(){function t(i,e,n){Object(a.a)(this,t),this.canvas=i,this.x=e,this.y=n,this.exists=!0}return Object(n.a)(t,[{key:"draw",value:function(){if(this.exists){var i=t.width,e=t.height,a=t.color;this.canvas.drawFilledRect(this.y*i,this.x*e,i-1,e-1,a)}}}]),t}();l.width=15,l.height=7,l.color="blue";var h=function(){function t(i){Object(a.a)(this,t),this.canvas=void 0,this.interval=setTimeout((function(){}),0),this.playerScore=0,this.gameRunning=!1,this.backgroundColor="white",this.homeScreenTextColor="black",this.userScoreColor="green",this.paddleWidth=50,this.paddleHeight=3,this.paddleColor="black",this.bricks=[],this.paddle={x:0,y:250},this.ballVelocityX=2,this.ballVelocityY=1,this.ballOriginalX=250,this.ballOriginalY=150,this.ball={x:this.ballOriginalX,y:this.ballOriginalY,width:5,height:5,velocityX:this.ballVelocityX,velocityY:this.ballVelocityY,color:"red"},this.previousBallPosition=null,this.canvas=new s.a(i)}return Object(n.a)(t,[{key:"reset",value:function(){this.playerScore=0,this.paddle.x=(this.canvas.width-this.paddleWidth)/2,this.ball.x=this.ballOriginalX,this.ball.y=this.ballOriginalY,this.ball.velocityX=this.ballVelocityX,this.ball.velocityY=this.ballVelocityY,this.previousBallPosition=null,this.initializeBricks()}},{key:"initializeBricks",value:function(){var t=this.canvas.width;this.bricks=[];for(var i=0;i<20;i++){this.bricks.push([]);for(var e=0;e<t/l.width;e++)this.bricks[i].push(new l(this.canvas,i,e))}for(var a=0;a<5;a++)for(var n=0;n<t/l.width;n++)this.bricks[a][n].exists=!1}},{key:"start",value:function(){this.reset(),this.interval=setInterval(this.render.bind(this),16)}},{key:"stop",value:function(){this.gameRunning=!1,clearInterval(this.interval),this.render()}},{key:"onEnterPress",value:function(){this.gameRunning||(this.playerScore=0,this.start()),this.gameRunning=!0}},{key:"onHover",value:function(t){if(this.canvas){var i=this.canvas.getBoundingClientRect,e=document.documentElement;this.paddle.x=t.clientX-i.left-e.scrollLeft-this.paddleWidth/2,this.boundXCoordinate()}}},{key:"boundXCoordinate",value:function(){var t=this.canvas.width,i=this.paddleWidth,e=this.paddle;e.x=Math.min(e.x,t-i),e.x=Math.max(e.x,0)}},{key:"render",value:function(){this.drawBackground(),this.gameRunning?(this.renderGame(),this.updateGameState()):(this.renderStartScreen(),clearInterval(this.interval))}},{key:"drawBackground",value:function(){var t=this.backgroundColor,i=this.canvas,e=i.width,a=i.height;this.canvas.drawFilledRect(0,0,e,a,t)}},{key:"renderGame",value:function(){this.drawBricks(),this.drawPaddle(),this.drawBall(),this.writeScore()}},{key:"updateGameState",value:function(){this.ball.x+=this.ball.velocityX,this.ball.y+=this.ball.velocityY,this.handleCollision()}},{key:"handleCollision",value:function(){this.handleWallCollision(),this.handleCollisionWithPaddle(),this.handleCollisionWithBricks()}},{key:"handleWallCollision",value:function(){(this.ball.x+this.ball.width>=this.canvas.width||this.ball.x<=0)&&(this.ball.velocityX*=-1),this.ball.y<=0&&(this.ball.velocityY*=-1),this.ball.y>=this.canvas.height&&this.stop()}},{key:"handleCollisionWithPaddle",value:function(){var t=this.ball,i=t.x,e=t.y;i>=this.paddle.x&&i<=this.paddle.x+this.paddleWidth&&e>=this.paddle.y&&e<=this.paddle.y+this.paddleHeight&&(this.ball.velocityY*=-1)}},{key:"handleCollisionWithBricks",value:function(){var t=this.ball,i=t.x,e=t.y,a=Math.floor(e/l.height),n=Math.floor(i/l.width);this.bricks[a]&&this.bricks[a][n]&&this.bricks[a][n].exists&&(this.bricks[a][n].exists=!1,this.playerScore++,this.previousBallPosition&&(this.previousBallPosition.x!==a&&(this.ball.velocityY*=-1),this.previousBallPosition.y!==n&&(this.ball.velocityX*=-1))),this.previousBallPosition={x:a,y:n}}},{key:"drawBricks",value:function(){this.bricks.forEach((function(t){return t.forEach((function(t){return t.draw()}))}))}},{key:"drawPaddle",value:function(){var t=this.paddleWidth,i=this.paddleHeight,e=this.paddleColor,a=this.paddle,n=a.x,s=a.y;this.canvas.drawFilledRect(n,s,t,i,e)}},{key:"drawBall",value:function(){var t=this.ball,i=t.x,e=t.y,a=t.width,n=t.height,s=t.color;this.canvas.drawFilledRect(i,e,a,n,s)}},{key:"writeScore",value:function(){var t="Your score: ".concat(this.playerScore),i=this.userScoreColor;this.canvas.writeText(t,10,14,16,i)}},{key:"renderStartScreen",value:function(){var t=this.homeScreenTextColor,i=this.userScoreColor,e=this.canvas.height;this.canvas.writeText("Click on the canvas and hit 'Enter' to start",150,e/2,25,t);var a="Your score: ".concat(this.playerScore);this.canvas.writeText(a,210,180,20,i)}}]),t}()},40:function(t,i,e){"use strict";e.r(i);var a=e(0),n=e.n(a),s=e(30);i.default=function(t){t.setDataAttributes({});var i=t.canvasRef.current,e=new s.BrickBreakerController(i);return i.focus(),i.tabIndex=1,e.start(),i.addEventListener("keyup",(function(t){"Enter"===t.key&&e.onEnterPress()})),i.addEventListener("mousemove",(function(t){e.onHover(t)})),n.a.createElement(n.a.Fragment,null)}},91:function(t,i,e){"use strict";function a(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.d(i,"a",(function(){return a}))},92:function(t,i,e){"use strict";function a(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,i,e){return i&&a(t.prototype,i),e&&a(t,e),t}e.d(i,"a",(function(){return n}))},93:function(t,i,e){"use strict";e.d(i,"a",(function(){return s}));var a=e(91),n=e(92),s=function(){function t(i){Object(a.a)(this,t),this.canvas=void 0,this.canvasContext=void 0,this.drawBitmap=this.drawBitmap.bind(this),this.drawFilledRect=this.drawFilledRect.bind(this),this.drawOutlineRect=this.drawOutlineRect.bind(this),this.drawLine=this.drawLine.bind(this),this.drawFilledCircle=this.drawFilledCircle.bind(this),this.drawBitmap=this.drawBitmap.bind(this),this.writeText=this.writeText.bind(this),this.canvas=i,this.canvasContext=this.canvas.getContext("2d"),this.reset()}return Object(n.a)(t,[{key:"getBoundingClientRect",get:function(){return this.canvas.getBoundingClientRect()}},{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}}]),Object(n.a)(t,[{key:"reset",value:function(){this.canvasContext.setTransform(1,0,0,1,0,0)}},{key:"drawBitmap",value:function(t,i,e,a){this.canvasContext.save(),this.canvasContext.translate(i,e),this.canvasContext.rotate(a),this.canvasContext.drawImage(t,-t.width/2,-t.height/2),this.canvasContext.restore()}},{key:"drawFilledRect",value:function(t,i,e,a,n){this.canvasContext.fillStyle=n,this.canvasContext.fillRect(t,i,e,a)}},{key:"drawOutlineRect",value:function(t,i,e,a,n){this.canvasContext.strokeStyle=n,this.canvasContext.strokeRect(t,i,e,a)}},{key:"drawRoundedRect",value:function(t,i,e,a,n,s){this.canvasContext.beginPath(),this.canvasContext.strokeStyle=s,this.canvasContext.moveTo(t+e-n,i+a),this.canvasContext.arcTo(t,i+a,t,i,n),this.canvasContext.arcTo(t,i,t+e,i,n),this.canvasContext.arcTo(t+e,i,t+e,i+a,n),this.canvasContext.arcTo(t+e,i+a,t,i+a,n),this.canvasContext.stroke()}},{key:"drawLine",value:function(t,i,e,a,n,s){this.canvasContext.save(),this.canvasContext.beginPath(),this.canvasContext.lineWidth=n,this.canvasContext.strokeStyle=s,this.canvasContext.moveTo(t,i),this.canvasContext.lineTo(e,a),this.canvasContext.stroke(),this.canvasContext.restore()}},{key:"drawDashedLine",value:function(t,i,e,a,n,s,l){this.canvasContext.setLineDash(l),this.drawLine(t,i,e,a,n,s),this.canvasContext.setLineDash([])}},{key:"drawFilledCircle",value:function(t,i,e,a){this.canvasContext.beginPath(),this.canvasContext.fillStyle=a,this.canvasContext.arc(t,i,e,0,2*Math.PI,!0),this.canvasContext.fill()}},{key:"writeText",value:function(t,i,e,a,n){this.canvasContext.fillStyle=n,this.canvasContext.fillText(t,i,e)}},{key:"translate",value:function(t,i){this.canvasContext.translate(t,i)}},{key:"rotate",value:function(t){this.canvasContext.rotate(t)}},{key:"pushState",value:function(){this.canvasContext.save()}},{key:"popState",value:function(){this.canvasContext.restore()}}]),t}()}}]);
//# sourceMappingURL=17.977cc50f.chunk.js.map