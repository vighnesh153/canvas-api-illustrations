(this["webpackJsonpcanvas-api-illustrations"]=this["webpackJsonpcanvas-api-illustrations"]||[]).push([[19,27],{32:function(t,e,i){"use strict";i.r(e),i.d(e,"PongGameController",(function(){return o}));var a=i(91),s=i(92),n=i(93),o=function(){function t(e){Object(a.a)(this,t),this.canvas=void 0,this.interval=setTimeout((function(){}),0),this.playerScore=0,this.computerScore=0,this.gameRunning=!1,this.backgroundColor="white",this.outlineColor="black",this.homeScreenTextColor="black",this.userScoreColor="green",this.compScoreColor="red",this.paddleWidth=7,this.paddleHeight=70,this.paddleColor="red",this.offset=20,this.scoreToWin=5,this.pauseTimeDurationInSeconds=3,this.maxAbsoluteBallVelocity=2.5,this.paddleUser={x:20,y:0},this.paddleComp={x:0,y:0},this.ball={x:0,y:0,width:10,height:10,velocityX:1,velocityY:.3,color:"blue"},this.canvas=new n.a(e),this.paddleComp.x=this.canvas.width-this.paddleWidth-this.paddleUser.x,this.paddleUser.y=this.paddleComp.y=(this.canvas.height-this.paddleHeight)/2,this.ball.x=(this.canvas.width-this.ball.width)/2,this.ball.y=(this.canvas.height-this.ball.width)/2}return Object(s.a)(t,[{key:"reset",value:function(){this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height/2,this.ball.velocityY=.3}},{key:"start",value:function(){this.reset(),this.interval=setInterval(this.render.bind(this),1e3/300)}},{key:"stop",value:function(){this.gameRunning=!1,clearInterval(this.interval),this.render()}},{key:"pause",value:function(){var t=this;if(this.reset(),clearInterval(this.interval),this.render(),this.playerScore!==this.scoreToWin&&this.computerScore!==this.scoreToWin){var e=this.pauseTimeDurationInSeconds;this.writePauseTimeRemaining(e--);var i=setInterval((function(){t.writePauseTimeRemaining(e),e--}),1e3);setTimeout((function(){t.start(),clearInterval(i)}),1e3*this.pauseTimeDurationInSeconds)}}},{key:"writePauseTimeRemaining",value:function(t){var e=this.canvas,i=this.backgroundColor,a=this.canvas,s=a.width,n=a.height;e.drawFilledRect(s/2-7,n/2-125,30,30,i),e.writeText("".concat(t),s/2,n/2-100,35,this.homeScreenTextColor)}},{key:"render",value:function(){this.drawBackground(),this.gameRunning?(this.renderGame(),this.updateGameState()):(this.renderStartScreen(),clearInterval(this.interval))}},{key:"onHover",value:function(t){if(this.canvas){var e=this.canvas.getBoundingClientRect,i=document.documentElement;this.paddleUser.y=t.clientY-e.top-i.scrollTop-this.paddleHeight/2,this.boundYCoordinate(this.paddleUser)}}},{key:"computerMovement",value:function(){this.ball.y>this.paddleComp.y+this.paddleHeight/2?this.paddleComp.y++:this.ball.y<this.paddleComp.y+this.paddleHeight/2&&this.paddleComp.y--,this.boundYCoordinate(this.paddleComp)}},{key:"boundYCoordinate",value:function(t){var e=this.canvas.height,i=this.offset,a=this.paddleHeight;t.y=Math.min(t.y,e-i-a),t.y=Math.max(t.y,i)}},{key:"onEnterPress",value:function(){this.gameRunning||(this.playerScore=0,this.computerScore=0,this.start()),this.gameRunning=!0}},{key:"onEscapePress",value:function(){this.stop()}},{key:"drawBackground",value:function(){var t=this.offset,e=this.backgroundColor,i=this.outlineColor,a=this.canvas,s=a.width,n=a.height;this.canvas.drawFilledRect(0,0,s,n,e),this.canvas.drawOutlineRect(t,t,s-2*t,n-2*t,i)}},{key:"renderStartScreen",value:function(){var t,e,i="Your score: ".concat(this.playerScore),a="AI score: ".concat(this.computerScore),s=this.homeScreenTextColor,n=this.userScoreColor,o=this.compScoreColor,h=this.playerScore,r=this.computerScore;(this.canvas.writeText("Click on the canvas and hit 'Enter' to start",140,140,30,s),h!==r)&&(h>r?(t="PLAYER WINS!",e=n):(t="COMPUTER WINS!",e=o),this.canvas.writeText(t,200,160,30,e),this.canvas.writeText(i,210,180,20,n),this.canvas.writeText(a,215,200,20,o))}},{key:"renderGame",value:function(){this.drawPaddles(),this.drawBall(),this.writeScore()}},{key:"updateGameState",value:function(){this.ball.x+=this.ball.velocityX,this.ball.y+=this.ball.velocityY,this.handleWallCollision(),this.handlePaddleCollision(),this.computerMovement();var t=this.playerScore,e=this.scoreToWin,i=this.computerScore;t!==e&&i!==e||this.stop()}},{key:"handleWallCollision",value:function(){this.ball.y+this.ball.height>=this.canvas.height-this.offset&&(this.ball.velocityY*=-1),this.ball.y<=this.offset&&(this.ball.velocityY*=-1),this.ball.x+this.ball.width>=this.canvas.width-this.offset&&(this.playerScore++,this.pause()),this.ball.x<=this.offset&&(this.computerScore++,this.pause())}},{key:"handlePaddleCollision",value:function(){var t=this.ball,e=this.paddleUser,i=this.paddleComp,a=this.paddleHeight,s=this.paddleWidth,n=this.offset,o=this.canvas,h=this.maxAbsoluteBallVelocity,r=function(){t.velocityX*=-1,t.velocityY=4*(t.y-(e.y+a/2))/75,t.velocityY=Math.max(t.velocityY,-h),t.velocityY=Math.min(t.velocityY,h)};t.x<=n+s&&t.y>=e.y&&t.y+t.height<=e.y+a&&r(),t.x+t.width>=o.width-n-s&&t.y>=i.y&&t.y+t.height<=i.y+a&&r()}},{key:"drawPaddles",value:function(){var t=this.paddleWidth,e=this.paddleHeight,i=this.paddleColor,a=this.paddleUser,s=a.x,n=a.y;this.canvas.drawFilledRect(s,n,t,e,i);var o=this.paddleComp,h=o.x,r=o.y;this.canvas.drawFilledRect(h,r,t,e,i);var c=this.offset,l=this.canvas,d=l.width,u=l.height;this.canvas.drawLine(c,c,d-c,c,1,i),this.canvas.drawLine(c,u-c,d-c,u-c,1,i)}},{key:"drawBall",value:function(){var t=this.ball,e=t.x,i=t.y,a=t.width,s=t.height,n=t.color;this.canvas.drawFilledRect(e,i,a,s,n)}},{key:"writeScore",value:function(){var t="Player score: ".concat(this.playerScore),e="AI score: ".concat(this.computerScore),i="".concat(this.scoreToWin," TO WIN");this.canvas.writeText(t,18,15,15,this.homeScreenTextColor),this.canvas.writeText(e,430,15,15,this.homeScreenTextColor),this.canvas.writeText(i,230,15,15,this.homeScreenTextColor)}}]),t}()},43:function(t,e,i){"use strict";i.r(e);var a=i(0),s=i.n(a),n=i(32);e.default=function(t){var e=t.canvasRef.current,i=new n.PongGameController(e);return e.focus(),e.tabIndex=1,i.start(),e.addEventListener("keyup",(function(t){"Enter"===t.key?i.onEnterPress():"Escape"===t.key&&i.onEscapePress()})),e.addEventListener("mousemove",(function(t){i.onHover(t)})),s.a.createElement(s.a.Fragment,null)}},91:function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return a}))},92:function(t,e,i){"use strict";function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}i.d(e,"a",(function(){return s}))},93:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i(91),s=i(92),n=function(){function t(e){Object(a.a)(this,t),this.canvas=void 0,this.canvasContext=void 0,this.drawBitmap=this.drawBitmap.bind(this),this.drawFilledRect=this.drawFilledRect.bind(this),this.drawOutlineRect=this.drawOutlineRect.bind(this),this.drawLine=this.drawLine.bind(this),this.drawFilledCircle=this.drawFilledCircle.bind(this),this.drawBitmap=this.drawBitmap.bind(this),this.writeText=this.writeText.bind(this),this.canvas=e,this.canvasContext=this.canvas.getContext("2d"),this.reset()}return Object(s.a)(t,[{key:"getBoundingClientRect",get:function(){return this.canvas.getBoundingClientRect()}},{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}}]),Object(s.a)(t,[{key:"reset",value:function(){this.canvasContext.setTransform(1,0,0,1,0,0)}},{key:"drawBitmap",value:function(t,e,i,a){this.canvasContext.save(),this.canvasContext.translate(e,i),this.canvasContext.rotate(a),this.canvasContext.drawImage(t,-t.width/2,-t.height/2),this.canvasContext.restore()}},{key:"drawFilledRect",value:function(t,e,i,a,s){this.canvasContext.fillStyle=s,this.canvasContext.fillRect(t,e,i,a)}},{key:"drawOutlineRect",value:function(t,e,i,a,s){this.canvasContext.strokeStyle=s,this.canvasContext.strokeRect(t,e,i,a)}},{key:"drawRoundedRect",value:function(t,e,i,a,s,n){this.canvasContext.beginPath(),this.canvasContext.strokeStyle=n,this.canvasContext.moveTo(t+i-s,e+a),this.canvasContext.arcTo(t,e+a,t,e,s),this.canvasContext.arcTo(t,e,t+i,e,s),this.canvasContext.arcTo(t+i,e,t+i,e+a,s),this.canvasContext.arcTo(t+i,e+a,t,e+a,s),this.canvasContext.stroke()}},{key:"drawLine",value:function(t,e,i,a,s,n){this.canvasContext.save(),this.canvasContext.beginPath(),this.canvasContext.lineWidth=s,this.canvasContext.strokeStyle=n,this.canvasContext.moveTo(t,e),this.canvasContext.lineTo(i,a),this.canvasContext.stroke(),this.canvasContext.restore()}},{key:"drawDashedLine",value:function(t,e,i,a,s,n,o){this.canvasContext.setLineDash(o),this.drawLine(t,e,i,a,s,n),this.canvasContext.setLineDash([])}},{key:"drawFilledCircle",value:function(t,e,i,a){this.canvasContext.beginPath(),this.canvasContext.fillStyle=a,this.canvasContext.arc(t,e,i,0,2*Math.PI,!0),this.canvasContext.fill()}},{key:"writeText",value:function(t,e,i,a,s){this.canvasContext.fillStyle=s,this.canvasContext.fillText(t,e,i)}},{key:"translate",value:function(t,e){this.canvasContext.translate(t,e)}},{key:"rotate",value:function(t){this.canvasContext.rotate(t)}},{key:"pushState",value:function(){this.canvasContext.save()}},{key:"popState",value:function(){this.canvasContext.restore()}}]),t}()}}]);
//# sourceMappingURL=19.f7a7f6f2.chunk.js.map