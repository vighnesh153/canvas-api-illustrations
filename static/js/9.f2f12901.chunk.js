(this["webpackJsonpcanvas-api-illustrations"]=this["webpackJsonpcanvas-api-illustrations"]||[]).push([[9,22,30],{13:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n(22),s=n(46);e.default=Object(i.b)(null,(function(t){return{setDataAttributes:function(e){return t(Object(a.a)(e))}}}))(s.default)},35:function(t,e,n){"use strict";n.r(e),n.d(e,"SnakeGameController",(function(){return o}));var i=n(91),a=n(92),s=n(93),r=function(){function t(e,n,a){Object(i.a)(this,t),this.canvas=e,this.x=n,this.y=a}return Object(a.a)(t,[{key:"draw",value:function(){var e=this.x,n=this.y,i=t.size,a=t.color;this.canvas.drawFilledRect(e,n,i-1,i-1,a)}}]),t}();r.color="blue",r.size=10;var o=function(){function t(e){Object(i.a)(this,t),this.canvas=void 0,this.interval=setTimeout((function(){}),0),this.playerScore=0,this.gameRunning=!1,this.backgroundColor="white",this.homeScreenTextColor="black",this.userScoreColor="green",this.currentDirection="10",this.body=[],this.minLength=3,this.currentSnakePosition=null,this.currentBallPosition=null,this.canvas=new s.a(e)}return Object(a.a)(t,[{key:"reset",value:function(){var t=this.canvas,e=t.width,n=t.height;this.body=[],this.currentSnakePosition={x:e/2,y:n/2},this.body.push(new r(this.canvas,this.currentSnakePosition.x,this.currentSnakePosition.y)),this.playerScore=0}},{key:"start",value:function(){this.reset(),this.generateRandomBallPosition(),this.interval=setInterval(this.render.bind(this),100)}},{key:"stop",value:function(){this.gameRunning=!1,clearInterval(this.interval),this.render()}},{key:"render",value:function(){this.drawBackground(),this.gameRunning?(this.renderGame(),this.updateGameState()):(this.renderStartScreen(),clearInterval(this.interval))}},{key:"onEnterPress",value:function(){this.gameRunning||this.start(),this.gameRunning=!0}},{key:"changeSnakeDirection",value:function(e){var n=this.currentDirection;-1!==t.availableDirections[n].indexOf(e)&&(this.currentDirection=e)}},{key:"pruneArray",value:function(){for(;this.body.length>this.minLength+this.playerScore;)this.body.shift()}},{key:"renderGame",value:function(){this.showSnake(),this.drawBall(),this.drawScore()}},{key:"updateGameState",value:function(){this.moveSnake(),this.pruneArray()}},{key:"moveSnake",value:function(){this.currentSnakePosition=this.currentSnakePosition,this.currentSnakePosition.x+=t.moves[this.currentDirection].x*r.size,this.currentSnakePosition.y+=t.moves[this.currentDirection].y*r.size,this.currentSnakePosition.x+=this.canvas.width,this.currentSnakePosition.x%=this.canvas.width,this.currentSnakePosition.y+=this.canvas.height,this.currentSnakePosition.y%=this.canvas.height;var e=this.currentSnakePosition,n=e.x,i=e.y;this.checkCollisionWithSelf(n,i),this.body.push(new r(this.canvas,this.currentSnakePosition.x,this.currentSnakePosition.y)),this.currentBallPosition=this.currentBallPosition,n===this.currentBallPosition.x&&i===this.currentBallPosition.y&&(this.playerScore++,this.generateRandomBallPosition())}},{key:"checkCollisionWithSelf",value:function(t,e){var n=this;this.body.forEach((function(i){i.x===t&&i.y===e&&n.stop()}))}},{key:"generateRandomBallPosition",value:function(){var t=this,e=this.canvas,n=e.width,i=e.height,a=n/r.size,s=i/r.size,o=function(){t.currentBallPosition={x:Math.floor(Math.random()*a)*r.size,y:Math.floor(Math.random()*s)*r.size}};for(o();this.currentBallPositionCollidesWithSnake();)o()}},{key:"currentBallPositionCollidesWithSnake",value:function(){var t=this.currentBallPosition,e=t.x,n=t.y,i=!1;return this.body.forEach((function(t){i=t.x===e&&t.y===n})),i}},{key:"showSnake",value:function(){this.body.forEach((function(t){return t.draw()}))}},{key:"drawBall",value:function(){if(void 0!==this.currentBallPosition){var t=this.currentBallPosition,e=t.x,n=t.y;this.canvas.drawFilledRect(e,n,r.size-1,r.size-1,"red")}}},{key:"drawScore",value:function(){var t="Your score: ".concat(this.playerScore);this.canvas.writeText(t,18,15,15,this.homeScreenTextColor)}},{key:"renderStartScreen",value:function(){var t=this.homeScreenTextColor,e=this.userScoreColor,n=this.playerScore,i=this.canvas.height;this.canvas.writeText("Click on the canvas and hit 'Enter' to start",150,i/2,30,t);var a="Your score: ".concat(n);this.canvas.writeText(a,220,180,30,e)}},{key:"drawBackground",value:function(){var t=this.backgroundColor,e=this.canvas,n=e.width,i=e.height;this.canvas.drawFilledRect(0,0,n,i,t)}}]),t}();o.availableDirections={1e3:["1","100"],100:["1000","10"],10:["100","1"],1:["10","1000"]},o.moves={1e3:{x:0,y:-1},100:{x:1,y:0},10:{x:0,y:1},1:{x:-1,y:0}}},46:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),s=n(35);e.default=function(t){var e=t.canvasRef.current,n=new s.SnakeGameController(e);return e.tabIndex=1,e.focus(),n.start(),e.addEventListener("keyup",(function(t){t.preventDefault(),"Enter"===t.key?n.onEnterPress():["ArrowDown","s","S"].includes(t.key)?n.changeSnakeDirection("10"):["ArrowUp","w","W"].includes(t.key)?n.changeSnakeDirection("1000"):["ArrowLeft","a","A"].includes(t.key)?n.changeSnakeDirection("1"):["ArrowRight","d","D"].includes(t.key)&&n.changeSnakeDirection("100")})),a.a.createElement(a.a.Fragment,null)}},91:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},92:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return a}))},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(91),a=n(92),s=function(){function t(e){Object(i.a)(this,t),this.canvas=void 0,this.canvasContext=void 0,this.drawBitmap=this.drawBitmap.bind(this),this.drawFilledRect=this.drawFilledRect.bind(this),this.drawOutlineRect=this.drawOutlineRect.bind(this),this.drawLine=this.drawLine.bind(this),this.drawFilledCircle=this.drawFilledCircle.bind(this),this.drawBitmap=this.drawBitmap.bind(this),this.writeText=this.writeText.bind(this),this.canvas=e,this.canvasContext=this.canvas.getContext("2d"),this.reset()}return Object(a.a)(t,[{key:"getBoundingClientRect",get:function(){return this.canvas.getBoundingClientRect()}},{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}}]),Object(a.a)(t,[{key:"reset",value:function(){this.canvasContext.setTransform(1,0,0,1,0,0)}},{key:"drawBitmap",value:function(t,e,n,i){this.canvasContext.save(),this.canvasContext.translate(e,n),this.canvasContext.rotate(i),this.canvasContext.drawImage(t,-t.width/2,-t.height/2),this.canvasContext.restore()}},{key:"drawFilledRect",value:function(t,e,n,i,a){this.canvasContext.fillStyle=a,this.canvasContext.fillRect(t,e,n,i)}},{key:"drawOutlineRect",value:function(t,e,n,i,a){this.canvasContext.strokeStyle=a,this.canvasContext.strokeRect(t,e,n,i)}},{key:"drawRoundedRect",value:function(t,e,n,i,a,s){this.canvasContext.beginPath(),this.canvasContext.strokeStyle=s,this.canvasContext.moveTo(t+n-a,e+i),this.canvasContext.arcTo(t,e+i,t,e,a),this.canvasContext.arcTo(t,e,t+n,e,a),this.canvasContext.arcTo(t+n,e,t+n,e+i,a),this.canvasContext.arcTo(t+n,e+i,t,e+i,a),this.canvasContext.stroke()}},{key:"drawLine",value:function(t,e,n,i,a,s){this.canvasContext.save(),this.canvasContext.beginPath(),this.canvasContext.lineWidth=a,this.canvasContext.strokeStyle=s,this.canvasContext.moveTo(t,e),this.canvasContext.lineTo(n,i),this.canvasContext.stroke(),this.canvasContext.restore()}},{key:"drawDashedLine",value:function(t,e,n,i,a,s,r){this.canvasContext.setLineDash(r),this.drawLine(t,e,n,i,a,s),this.canvasContext.setLineDash([])}},{key:"drawFilledCircle",value:function(t,e,n,i){this.canvasContext.beginPath(),this.canvasContext.fillStyle=i,this.canvasContext.arc(t,e,n,0,2*Math.PI,!0),this.canvasContext.fill()}},{key:"writeText",value:function(t,e,n,i,a){this.canvasContext.fillStyle=a,this.canvasContext.fillText(t,e,n)}},{key:"translate",value:function(t,e){this.canvasContext.translate(t,e)}},{key:"rotate",value:function(t){this.canvasContext.rotate(t)}},{key:"pushState",value:function(){this.canvasContext.save()}},{key:"popState",value:function(){this.canvasContext.restore()}}]),t}()}}]);
//# sourceMappingURL=9.f2f12901.chunk.js.map